{
    "sourceFile": "admin/src/components/Ride.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1668733508861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1668733508861,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from 'react'\nimport { useLocation } from \"react-router-dom\";\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { Paper, Avatar, Divider, CircularProgress, Button, TextField } from '@material-ui/core';\n\nexport default function Ride(props) {\n    const [user, setUser] = useState(null)\n    const [banReason, setBanReason] = useState('')\n    const location = useLocation();\n\n    useEffect(() => {\n        firebase.firestore()\n            .collection(\"users\")\n            .doc(props.match.params.id)\n            .onSnapshot((snapshot) => {\n                if (snapshot.exists) {\n                    let user = snapshot.data();\n                    user.uid = snapshot.id;\n\n                    setUser(user);\n                }\n            })\n    }, [])\n\n    const banUser = () => {\n        firebase.firestore()\n            .collection(\"users\")\n            .doc(firebase.auth().currentUser.uid)\n            .update({\n                banned: true,\n                banDetails: {\n                    banReason,\n                    date: firebase.firestore.FieldValue.serverTimestamp()\n                }\n            })\n    }\n    if (user == null) {\n        return (\n            <CircularProgress\n                variant=\"indeterminate\"\n                size={40}\n                thickness={4}\n                value={100}\n            />\n        )\n    }\n    return (\n        //lets an admin ban a user or set a ban time period. You can also add a reason why user was banned.\n        <div className=\" row m-5\">\n\n            <Paper className=\"col-md-3 m-3\" elevation={5}>\n                <div style={{ alignItems: 'center' }} className=\"p-5 \">\n                    <Avatar style={{ height: '200px', width: '200px' }} className=\"m-auto mb-4\" alt=\"Travis Howard\" src={user.image} />\n                    <h3 style={{ textAlign: 'center' }} className=\"mt-4\">{user.name}</h3>\n                    <h6 style={{ textAlign: 'center' }}>{user.username}</h6>\n                </div>\n            </Paper>\n\n\n            <Paper className=\"col-md-8 m-3\" elevation={5}>\n                <div style={{ alignItems: 'center' }} className=\"p-5 \">\n\n                    <p style={{ textAlign: 'left', fontWeight: 'bold' }}>phone Number</p>\n                    <p style={{ textAlign: 'left' }}>{user.phoneNumber}</p>\n\n                    <Divider className=\"mb-3\" />\n                    <p style={{ textAlign: 'left', fontWeight: 'bold' }}>Birthday</p>\n                    <p>{user.birthday}</p>\n\n                    <Divider className=\"mb-3\" />\n                    <p style={{ textAlign: 'left', fontWeight: 'bold' }}>Last Login</p>\n                    <p>{user.lastLogin}</p>\n\n                    <Divider className=\"mb-3\" />\n                    <p style={{ textAlign: 'left', fontWeight: 'bold' }}>Phone Info</p>\n                    <p>{user.device}</p>\n\n                    <Divider className=\"mb-3\" />\n                    <p style={{ textAlign: 'left', fontWeight: 'bold' }}>Identification</p>\n                    <Button variant=\"contained\" color=\"primary\" className=\"mr-2 col-md-3\" href={user.identification.backIdImageURL} target=\"_blank\">Back driver's license</Button>\n                    <Button variant=\"contained\" color=\"primary\" className=\"mr-2 col-md-3\" href={user.identification.backIdImageURL} target=\"_blank\">Front driver's license</Button>\n                    <Button variant=\"contained\" color=\"primary\" className=\"mr-2 col-md-3\" href={user.identification.photo} target=\"_blank\">Photo</Button>\n                </div>\n            </Paper>\n\n\n            <Paper className=\"col-md-3 m-3 p-5\" elevation={5}>\n                <TextField\n                    className=\"col-md-12\"\n                    id=\"outlined-required\"\n                    label=\"tokens\"\n                    defaultValue={user.tokens}\n                    variant=\"outlined\"\n                    inputMode=\"numeric\"\n                />\n                <Button className=\"col-md-12 mt-5\" variant=\"contained\" color=\"primary\">save</Button>\n            </Paper>\n\n            <Paper className=\"col-md-3 m-3 p-5\" elevation={5}>\n                <TextField\n                    className=\"col-md-12\"\n                    id=\"outlined-required\"\n                    label=\"Ban Reason\"\n                    defaultValue=\"\"\n                    multiline={true}\n                    variant=\"outlined\"\n                    inputMode=\"numeric\"\n                    onChange={setBanReason}\n                />\n\n                <Button className=\"col-md-12 mt-5\" variant=\"contained\" color=\"secondary\" onClick={() => banUser()}>Ban</Button>\n\n            </Paper>\n\n        </div>\n    )\n}\n"
        }
    ]
}